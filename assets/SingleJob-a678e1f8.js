import{j as e,y as w}from"./index-06435b8c.js";import{m as k,n as v,G as y,q as _,R as p,l as S,r as H,t as I,B as C,v as z}from"./App-9463a69e.js";async function B({jobId:t}){const s={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+k.getState().user.token}},r=await fetch(v+"?id="+t,s);if(r.ok)return await r.json();throw r.status===404?new Error("not found"):new Error("unknown error")}function R(t){return y({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M235.4 172.2c0-11.4 9.3-19.9 20.5-19.9 11.4 0 20.7 8.5 20.7 19.9s-9.3 20-20.7 20c-11.2 0-20.5-8.6-20.5-20zm1.4 35.7H275V352h-38.2V207.9z"}},{tag:"path",attr:{d:"M256 76c48.1 0 93.3 18.7 127.3 52.7S436 207.9 436 256s-18.7 93.3-52.7 127.3S304.1 436 256 436c-48.1 0-93.3-18.7-127.3-52.7S76 304.1 76 256s18.7-93.3 52.7-127.3S207.9 76 256 76m0-28C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48z"}}]})(t)}function M(t){return y({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z",clipRule:"evenodd"}}]})(t)}function E({data:t}){var s,r,i,n,a,c,x;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[(s=t==null?void 0:t.user)!=null&&s.avatar&&((i=(r=t==null?void 0:t.user)==null?void 0:r.avatar)==null?void 0:i.trim())!==""?e.jsx("img",{loading:"lazy",alt:"",src:(n=t==null?void 0:t.user)==null?void 0:n.avatar,className:"w-11 h-11 rounded-full object-center object-cover shadow-sm shadow-black/10"}):e.jsx("div",{className:"w-11 h-11 rounded-full bg-blue-500/80 grid place-items-center",children:e.jsx("p",{className:"text-slate-800 text-xs font-[iranyekan300]",children:(c=(a=t==null?void 0:t.user)==null?void 0:a.first_name)==null?void 0:c[0]})}),e.jsx("p",{className:"text-sm text-slate-800 font-[iranyekan400]",children:(x=t==null?void 0:t.user)==null?void 0:x.first_name})]}),e.jsx(p,{max:5,positive:Math.floor(t==null?void 0:t.rate)})]}),e.jsxs("div",{className:"mt-5 w-full flex items-center justify-between gap-8",children:[e.jsx("p",{className:"text-xs text-slate-700/95 font-[iranyekan400]",children:t==null?void 0:t.content}),e.jsx("p",{className:"text-xs text-blue-700/70 font-[iranyekan400]",children:t==null?void 0:t.date})]})]})}function L({comments:t,showJob:s=!1,showTopSection:r=!0}){return e.jsxs("div",{className:"w-full px-4",children:[r?e.jsxs("div",{className:"flex items-center justify-between mb-12",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[e.jsx(_,{className:"w-5 h-5 fill-blue-500"}),e.jsx("p",{className:"text-sm text-slate-800 font-[iranyekan400]",children:"نظرات"})]}),e.jsx("p",{className:"text-xs text-blue-500 font-[iranyekan400]",children:"همه نظرات"})]}):!1,e.jsx("div",{className:"flex flex-col gap-y-6 w-full",children:t==null?void 0:t.map(i=>e.jsx(E,{data:i},i==null?void 0:i.id))})]})}function A(t){let s="شنبه";switch(t){case 0:s="شنبه";break;case 1:s="یکشنبه";break;case 2:s="دو شنبه";break;case 3:s="سه شنبه";break;case 4:s="چهار شنبه";break;case 5:s="پنج شنبه";break;case 6:s="جمعه";break}return s}function O(){var n,a,c,x,o,m,f,h,j,u,d,N,b,g;const{id:t}=w(),{data:s,error:r,isLoading:i}=S("job/view/"+t,async()=>B({jobId:parseInt(t)}),{shouldRetryOnError:!1});return i?e.jsx("p",{children:"loading"}):r?e.jsx("p",{children:"something went wrong"}):e.jsxs("div",{className:"h-screen overflow-y-auto pb-32",children:[(n=s==null?void 0:s.job)!=null&&n.medias&&((c=(a=s==null?void 0:s.job)==null?void 0:a.medias)==null?void 0:c.length)>0?e.jsx("img",{alt:"",src:(o=(x=s==null?void 0:s.job)==null?void 0:x.medias[0])==null?void 0:o.url,className:"w-full h-[26rem] object-center object-cover shadow-md shadow-black/10"}):e.jsx("div",{dir:"ltr",className:"w-full h-[20rem] bg-slate-200 grid items-center",children:e.jsx("p",{className:"text-3xl text-center font-[iranyekan600] text-slate-600",children:"No Image :("})}),e.jsx("div",{className:"mt-6 w-full flex items-center justify-center gap-x-3",children:e.jsx(p,{max:5,positive:Math.floor((m=s==null?void 0:s.job)==null?void 0:m.rate)})}),e.jsxs("div",{className:"flex items-center gap-x-2 px-4 mt-6",children:[s!=null&&s.is_bookmarked?e.jsx(H,{className:"w-5 h-5 fill-blue-500"}):e.jsx(I,{className:"w-5 h-5 fill-blue-500"}),e.jsx("p",{className:"text-sm text-slate-800 font-[iranyekan400]",children:"محبوبیت"})]}),e.jsxs("div",{className:"flex items-center gap-x-2 px-4 mt-9",children:[e.jsx(R,{className:"w-5 h-5 fill-blue-500"}),e.jsx("p",{className:"text-sm text-slate-800 font-[iranyekan400]",children:"اطلاعات مجموعه"})]}),e.jsx("div",{className:"mt-4 w-full px-5",children:e.jsxs("div",{className:"w-full rounded-xl bg-blue-500/10 p-5 flex flex-col gap-y-4",children:[e.jsxs("p",{className:"text-xs text-slate-500 font-[iranyekan300]",children:["نام مجموعه :  ",e.jsx("span",{className:"text-slate-800 font-[iranyekan400]",children:(f=s==null?void 0:s.job)==null?void 0:f.title})]}),e.jsxs("p",{className:"text-xs text-slate-500 font-[iranyekan300]",children:["نام گروه :  ",e.jsx("span",{className:"text-slate-800 font-[iranyekan400]"})]}),e.jsxs("p",{className:"text-xs text-slate-500 font-[iranyekan300]",children:["شماره تماس :  ",e.jsx("div",{className:"inline-flex items-center gap-x-2.5",children:(j=(h=s==null?void 0:s.job)==null?void 0:h.phones)==null?void 0:j.map(l=>e.jsx("span",{className:"text-blue-500 cursor-pointer font-[iranyekan400]",children:l},l))})]}),e.jsxs("p",{className:"text-xs text-slate-500 font-[iranyekan300]",children:["آدرس :  ",e.jsx("span",{className:"text-slate-800 font-[iranyekan400]",children:(u=s==null?void 0:s.job)==null?void 0:u.address})]})]})}),e.jsxs("div",{className:"flex items-center gap-x-2 px-4 mt-9",children:[e.jsx(C,{className:"w-5 h-5 fill-blue-500"}),e.jsx("p",{className:"text-sm text-slate-800 font-[iranyekan400]",children:"توضیحات"})]}),e.jsx("div",{className:"mt-4 w-full px-5",children:e.jsx("div",{className:"w-full rounded-xl bg-blue-500/10 p-5 flex flex-col gap-y-4",children:e.jsx("p",{className:"text-xs text-slate-800 font-[iranyekan300]",children:(d=s==null?void 0:s.job)==null?void 0:d.description})})}),e.jsxs("div",{className:"flex items-center gap-x-2 px-4 mt-9",children:[e.jsx(M,{className:"w-5 h-5 fill-blue-500"}),e.jsx("p",{className:"text-sm text-slate-800 font-[iranyekan400]",children:"هشتگ"})]}),e.jsx("div",{className:"flex items-center gap-x-2 px-4 mt-4",children:(b=(N=s==null?void 0:s.job)==null?void 0:N.hashtags)==null?void 0:b.map(l=>e.jsx("p",{className:"py-1.5 cursor-default px-3 rounded-3xl text-xs text-slate-800 font-[iranyekan300] bg-blue-500/30",children:l}))}),e.jsxs("div",{className:"flex items-center gap-x-2 px-4 mt-9",children:[e.jsx(z,{className:"w-5 h-5 fill-blue-500"}),e.jsx("p",{className:"text-sm text-slate-800 font-[iranyekan400]",children:"ساعات کاری مجموعه"})]}),e.jsx("div",{className:"mt-4 grid grid-cols-4 gap-3 px-4",children:(g=s==null?void 0:s.plan)==null?void 0:g.map(l=>e.jsxs("div",{className:`flex flex-col gap-y-2 py-4 justify-center border border-blue-500 ${l!=null&&l.is_holiday?"bg-blue-500/20":"bg-white"} rounded-xl`,children:[e.jsx("p",{className:"text-center text-slate-800 text-xs font-[iranyekan400]",children:A(l==null?void 0:l.day)}),l!=null&&l.is_holiday?e.jsx("p",{className:"text-center text-slate-800 text-xs font-[iranyekan400]",children:"تعطیل"}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-center text-slate-800 text-xs font-[iranyekan400]",children:[l==null?void 0:l.start_morning_time," - ",l==null?void 0:l.end_morning_time]}),e.jsxs("p",{className:"text-center text-slate-800 text-xs font-[iranyekan400]",children:[l==null?void 0:l.start_afternoon_time," - ",l==null?void 0:l.end_afternoon_time]})]})]}))}),e.jsx("div",{className:"mt-16 w-full",children:e.jsx(L,{comments:s==null?void 0:s.comments})})]})}export{O as default};
