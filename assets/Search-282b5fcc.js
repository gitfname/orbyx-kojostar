import{j as e,r as m,N as u,aj as M}from"./index-b0e24987.js";import{G as N,u as A,a as S,b as f,g as R,M as L,c as V,d as E,e as D,f as H,h as O,A as B,i as v,j as w,k as j,l as y,L as _,C as I,m as G,n as g}from"./App-1f28e85f.js";import{g as $}from"./getCategories-1fb5fd31.js";function P(r){return N({tag:"svg",attr:{version:"1.1",id:"search",x:"0px",y:"0px",viewBox:"0 0 24 24",style:"enable-background:new 0 0 24 24;"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:`M20.031,20.79c0.46,0.46,1.17-0.25,0.71-0.7l-3.75-3.76c1.27-1.41,2.04-3.27,2.04-5.31
		c0-4.39-3.57-7.96-7.96-7.96s-7.96,3.57-7.96,7.96c0,4.39,3.57,7.96,7.96,7.96c1.98,0,3.81-0.73,5.21-1.94L20.031,20.79z
		 M4.11,11.02c0-3.84,3.13-6.96,6.96-6.96c3.84,0,6.96,3.12,6.96,6.96c0,3.84-3.12,6.96-6.96,6.96C7.24,17.98,4.11,14.86,4.11,11.02
		z`}}]}]})(r)}function F(r){return N({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M15 2v1.67l-5 4.759V14H6V8.429l-5-4.76V2h14zM7 8v5h2V8l5-4.76V3H2v.24L7 8z"}}]})(r)}function C({key:r,index:l,isScrolling:d,isVisible:o,style:s,data:p,onChange:b,checked:c}){const i=p;return e.jsx("div",{style:s,className:"px-2",children:i.is_parent?e.jsx("p",{className:"text-sm text-slate-900 !h-7 font-[vazir]",children:i.name}):e.jsxs("div",{className:"flex items-center gap-x-2 cursor-pointer rounded-lg w-full",onClick:()=>b(!c,i),children:[e.jsx(I,{isChecked:c}),e.jsx("p",{className:"text-sm text-slate-700 font-[vazir]",children:i.name})]})},r)}function K({children:r}){const{isOpen:l,onOpen:d,onClose:o}=A(),[s,p,b,c,i]=S(t=>[t.api.add_city_id,t.api.remove_city_id,t.api.is_city_id_includes,t.api.is_category_id_active,t.api.set_category_id]),{data:x,error:T,isLoading:k}=f("sort-modal/getCitiesAndState",async()=>R(),{shouldRetryOnError:!1}),{data:h,error:W,isLoading:z}=f("sort-modal/getCategories",async()=>$(),{shouldRetryOnError:!1});return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:d,children:r}),k||z?!1:e.jsxs(L,{size:"lg",isOpen:l,onClose:o,children:[e.jsx(V,{}),e.jsxs(E,{children:[e.jsx(D,{fontSize:"medium",className:"font-[vazir]",children:"مرتب سازی"}),e.jsx(H,{left:"8px",right:"unset"}),e.jsx(O,{pb:"12px",children:e.jsxs(B,{allowMultiple:!0,allowToggle:!0,display:"flex",flexDirection:"column",rowGap:"10px",children:[e.jsxs(v,{border:"none",children:[e.jsxs(w,{borderRadius:"lg",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:["دسته بندی",e.jsx(j,{})]}),e.jsx(y,{children:e.jsx(_,{className:"!w-full !gap-y-0",width:900,height:200,rowCount:h.data.length,rowHeight:({index:t})=>{var a;return(a=h.data[t+1])!=null&&a.is_parent?50:30},rowRenderer:t=>C({...t,data:h.data[t.index],checked:c(h.data[t.index].id),onChange:(a,n)=>{console.log(a),console.log(Date.name),a?i(n.id):(console.log(n.id),i(void 0))}})})})]}),e.jsxs(v,{border:"none",children:[e.jsxs(w,{borderRadius:"lg",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:["انتخاب شهر",e.jsx(j,{})]}),e.jsx(y,{pt:"14px",pb:0,px:0,maxH:"72",overflowY:"auto",children:e.jsx(_,{className:"!w-full !gap-y-0",width:200,height:200,rowCount:x.data.length,rowHeight:({index:t})=>{var a;return(a=x.data[t+1])!=null&&a.is_state?50:30},rowRenderer:t=>C({...t,data:x.data[t.index],checked:b(x.data[t.index].id),onChange:(a,n)=>{a?s([n.id]):(console.log(n.id),p([n.id]))}})})})]})]})})]})]})]})}function Q(){const[r]=S(s=>[s.api.set_key]),[l,d]=m.useState(""),o=G(l,{wait:750});return m.useEffect(()=>{r(o)},[o]),e.jsxs("div",{className:"max-lg:h-full h-screen overflow-y-auto grid grid-rows-[max-content_1fr]",children:[e.jsxs("div",{className:"pb-1 shadow-lg shadow-black/10 overflow-x-hidden",children:[e.jsxs("div",{className:"bg-slate-50 shadow-lg shadow-black/5 p-4 relative",children:[e.jsx(P,{className:"absolute top-1/2 right-7 -translate-y-1/2 w-7 h-7 fill-blue-500 pointer-events-none"}),e.jsx(K,{children:e.jsx("div",{className:`p-2 rounded-lg hover:bg-transparent/5 transition-colors duration-300\r
            cursor-pointer absolute top-1/2 left-7 -translate-y-1/2`,children:e.jsx(F,{className:"w-5 h-5 fill-blue-500 pointer-events-none"})})}),e.jsx("input",{onChange:s=>{d(s.target.value)},maxLength:50,placeholder:"جستجو کنید...",className:"primary-text-input text-sm py-3.5 font-[vazir] pr-12 pl-16"})]}),e.jsx("div",{className:" mt-5 w-full overflow-x-auto pb-4",children:e.jsxs("div",{className:"w-max min-w-full flex items-center justify-center gap-x-5 flex-nowrap px-4",children:[e.jsx(u,{end:!0,to:g.pages.search,className:({isActive:s})=>`primary-btn font-[vazir] text-xs w-max py-3 bg-transparent text-blue-600 border
            border-blue-500 hover:bg-blue-500 hover:text-white flex-shrink-0 ${s?"!bg-blue-500 !text-white":""}`,children:"محبوب ترین"}),e.jsx(u,{end:!0,to:g.pages.search+"/near-jobs",className:({isActive:s})=>`primary-btn font-[vazir] text-xs w-max py-3 bg-transparent text-blue-600 border
            border-blue-500 hover:bg-blue-500 hover:text-white flex-shrink-0 ${s?"!bg-blue-500 !text-white":""}`,children:"نزدیک ترین"}),e.jsx(u,{end:!0,to:g.pages.search+"/most-comment",className:({isActive:s})=>`primary-btn font-[vazir] text-xs w-max py-3 bg-transparent text-blue-600 border
            border-blue-500 hover:bg-blue-500 hover:text-white flex-shrink-0 ${s?"!bg-blue-500 !text-white":""}`,children:"بیشترین نظر"}),e.jsx(u,{end:!0,to:g.pages.search+"/discounts",className:({isActive:s})=>`primary-btn font-[vazir] text-xs w-max py-3 bg-transparent text-blue-600 border
            border-blue-500 hover:bg-blue-500 hover:text-white flex-shrink-0 ${s?"!bg-blue-500 !text-white":""}`,children:"تخفیفات"})]})})]}),e.jsx("div",{dir:"ltr",className:"w-full h-full overflow-y-auto p-4",children:e.jsx("div",{dir:"rtl",children:e.jsx(M,{})})})]})}export{Q as default};
