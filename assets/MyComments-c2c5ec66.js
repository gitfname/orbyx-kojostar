import{j as e,L as c,r as l}from"./index-f0cea57c.js";import{n as o,z as m,E as d,F as x,A as r,R as u,H as f,l as h}from"./App-8131e67c.js";async function g({}){const t=m,a={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.getState().user.token}},n=await fetch(t,a);if(n.ok)return await n.json();throw new Error("something went wrong")}async function p(){await d()||x.navigate(r.pages.home)}function w({content:t,date:a,id:n,job:s,rate:N,status:i,time:v,user:j}){return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center gap-x-3",children:[(s==null?void 0:s.image.trim())!==""?e.jsx("img",{loading:"lazy",alt:"",src:s==null?void 0:s.image,className:"w-11 h-11 rounded-full object-center object-cover shadow-sm shadow-black/10"}):e.jsx("div",{className:"w-11 h-11 rounded-full bg-blue-500/80 grid place-items-center",children:e.jsx("p",{className:"text-slate-800 text-xs font-[iranyekan300]",children:s==null?void 0:s.title[0]})}),e.jsx("p",{className:"text-sm text-slate-800 font-[iranyekan400]",children:s==null?void 0:s.title})]}),e.jsx(u,{max:5,positive:Math.floor(s.rate)})]}),e.jsxs("div",{className:"mt-5 w-full flex items-center justify-between gap-8",children:[e.jsx("p",{className:"text-xs text-slate-700/95 font-[iranyekan400]",children:t}),e.jsx("p",{className:"text-xs text-blue-700/70 font-[iranyekan400]",children:a})]}),e.jsx(e.Fragment,{children:i===0?e.jsxs("div",{className:"flex items-center gap-x-1 mt-8",children:[e.jsx(f,{className:"w-4 h-4 fill-blue-500"}),e.jsx("p",{className:"text-xs text-blue-600 font-[iranyekan400]",children:"در انتظار تایید"})]}):!1})]})}function y(t){return e.jsx(c,{to:r.pages.singleJob(t.job.id),className:"block w-full p-4 rounded-xl hover:bg-blue-500/10 transition-colors duration-300",children:e.jsx(w,{...t})})}function C(){l.useEffect(()=>{p()},[]);const{data:t,error:a,isLoading:n}=h("my-comments",async()=>g({}),{shouldRetryOnError:!1});return n?e.jsx("p",{children:"Loading"}):a?e.jsx("p",{children:"Error"}):e.jsx("div",{className:"w-full h-screen overflow-y-auto",children:e.jsxs("div",{className:"w-full h-max px-4 py-8",children:[e.jsx("p",{className:"text-lg text-slate-800 font-[iranyekan400]",children:"نظر های من"}),e.jsx("div",{className:"mt-12 w-full flex flex-col gap-y-7",children:t.data.map(s=>e.jsxs(e.Fragment,{children:[l.createElement(y,{...s,key:s.id}),e.jsx("div",{className:"w-11/12 mx-auto border-b border-b-slate-200"})]}))})]})})}export{C as default};
