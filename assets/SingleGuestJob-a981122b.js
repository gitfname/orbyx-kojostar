import{B as I,j as s,i as k}from"./index-d8fa4cee.js";import{a2 as C,b as S,L,R as E,o as M,p as O}from"./App-8c327c57.js";import{J as _,I as B,H as J}from"./JobImageSlider_1-7488ec97.js";import{C as R}from"./CommentsSection_1-408f24cb.js";import{W as T,g as G}from"./getDayNameByIndex-1347c9b0.js";import{M as H}from"./index.modern-44684203.js";import{b as P}from"./index.esm-94f80b75.js";import{l as W}from"./TileLayer-7e84408f.js";import{u as U}from"./chunk-ENIANY67-29a1425c.js";async function $({jobId:t}){const a={method:"GET",headers:{"Content-Type":"application/json"}},e=await fetch(C+"?id="+t,a);if(e.ok)return await e.json();throw e.status===404?new Error("not found"):new Error("unknown error")}function ee(){var i,r,n,o,c,m,x,f,d,p,j,h,u,g,b,v,N,w;const{id:t}=I(),a=U(),{data:e,error:y,isLoading:z}=S("job/guest/view/"+t,async()=>$({jobId:parseInt(t)}),{shouldRetryOnError:!1,revalidateOnFocus:!1});return z?s.jsx(L,{}):y?s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[s.jsx("img",{alt:"no data",src:k()+"/images/noItem.png",className:"w-28 h-auto border border-purple-600 inline-block"}),s.jsx("p",{className:"text-sm text-slate-800 font-[vazirMedium] mt-3.5",children:"هیچ موردی وجود ندارد"})]}):s.jsxs("div",{className:"max-lg:h-full h-screen overflow-y-auto pb-8",children:[s.jsx("div",{className:"w-full h-[34rem] md:h-[38rem]",children:s.jsx(_,{images:(i=e==null?void 0:e.job)==null?void 0:i.medias.map(l=>l.url)})}),s.jsxs("div",{className:"mt-6 z-10 w-full flex flex-col gap-y-6 md:flex-row items-center justify-center gap-x-3 relative",children:[s.jsx(E,{max:5,positive:Math.floor((r=e==null?void 0:e.job)==null?void 0:r.rate)}),s.jsx("div",{className:"w-max grid place-items-center md:absolute md:top-1/2 md:left-4 md:-translate-y-1/2",children:s.jsx("button",{onClick:()=>{navigator.clipboard&&navigator.clipboard.writeText(location.href).then(()=>{a({description:"لینک کپی شد",duration:3e3,position:"top",status:"success",isClosable:!1})})},className:"primary-btn py-2 font-[vazirLight]",children:"به اشتراک بگذارید"})})]}),s.jsxs("div",{className:"flex items-center gap-x-2 px-4 mt-11",children:[s.jsx(B,{className:"w-5 h-5 fill-blue-500"}),s.jsx("p",{className:"text-sm text-slate-800 font-[vazir]",children:"اطلاعات مجموعه"})]}),s.jsx("div",{className:"mt-4 w-full px-5",children:s.jsxs("div",{className:"w-full rounded-xl bg-blue-500/10 p-5 flex flex-col gap-y-4",children:[s.jsxs("p",{className:"text-xs text-slate-500 font-[vazir]",children:["نام مجموعه :  ",s.jsx("span",{className:"text-slate-800 font-[vazir]",children:(n=e==null?void 0:e.job)==null?void 0:n.title})]}),s.jsxs("p",{className:"text-xs text-slate-500 font-[vazir]",children:["نام گروه :  ",s.jsx("span",{className:"text-slate-800 font-[vazir]"})]}),s.jsxs("p",{className:"text-xs text-slate-500 font-[vazir]",children:["شماره تماس :  ",s.jsx("div",{className:"inline-flex items-center gap-x-2.5",children:(c=(o=e==null?void 0:e.job)==null?void 0:o.phones)==null?void 0:c.map(l=>s.jsx("a",{href:"tel:"+l,className:"text-blue-500 font-[vazir]",children:l},l))})]}),s.jsxs("p",{className:"text-xs text-slate-500 font-[vazir]",children:["آدرس :  ",s.jsx("span",{className:"text-slate-800 font-[vazir]",children:(m=e==null?void 0:e.job)==null?void 0:m.address})]})]})}),s.jsxs("div",{className:"flex items-center gap-x-2 px-4 mt-9",children:[s.jsx(M,{className:"w-5 h-5 fill-blue-500"}),s.jsx("p",{className:"text-sm text-slate-800 font-[vazir]",children:"توضیحات"})]}),s.jsx("div",{className:"mt-4 w-full px-5",children:s.jsx("div",{className:"w-full rounded-xl bg-blue-500/10 p-5 flex flex-col gap-y-4",children:s.jsx("p",{className:"text-xs text-slate-800 font-[vazir]",children:(x=e==null?void 0:e.job)==null?void 0:x.description})})}),s.jsxs("div",{className:"flex items-center gap-x-2 px-4 mt-9",children:[s.jsx(J,{className:"w-5 h-5 fill-blue-500"}),s.jsx("p",{className:"text-sm text-slate-800 font-[vazir]",children:"هشتگ"})]}),s.jsx("div",{className:"flex items-center gap-x-2 px-4 mt-4",children:(d=(f=e==null?void 0:e.job)==null?void 0:f.hashtags)==null?void 0:d.map(l=>s.jsx("p",{className:"py-1.5 cursor-default px-3 rounded-3xl text-xs text-slate-800 font-[vazir] bg-blue-500/30",children:l}))}),s.jsxs("div",{className:"mt-9 w-full px-4",children:[s.jsxs("div",{className:"flex items-center w-full justify-between",children:[s.jsxs("div",{className:"flex items-center gap-x-2",children:[s.jsx(P,{className:"w-[1.35rem] h-[1.35rem] fill-blue-500"}),s.jsx("p",{className:"text-sm text-slate-800 font-[vazir]",children:"موقعیت مکانی"})]}),s.jsx("a",{href:`https://www.google.com/maps?q=${(p=e==null?void 0:e.job)==null?void 0:p.lat},${(j=e==null?void 0:e.job)==null?void 0:j.lng}`,target:"_blank",className:`text-sm text-blue-500 font-[vazir] py-1.5 px-2.5 rounded-xl hover:bg-blue-500/5\r
                        transition-colors duration-300`,children:"ورود به مسیریابی"})]}),s.jsx("div",{className:"mt-6 w-full max-w-4xl mx-auto",children:s.jsx(H,{zoom:16,latlng:[{latlng:new W.LatLng((h=e==null?void 0:e.job)==null?void 0:h.lat,(u=e==null?void 0:e.job)==null?void 0:u.lng),title:(g=e==null?void 0:e.job)==null?void 0:g.title}]})})]}),s.jsxs("div",{className:"flex items-center gap-x-2 px-4 mt-9",children:[s.jsx(O,{className:"w-5 h-5 fill-blue-500"}),s.jsx("p",{className:"text-sm text-slate-800 font-[vazir]",children:"ساعات کاری مجموعه"})]}),s.jsx("div",{className:"mt-4 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 px-4",children:(b=e==null?void 0:e.plan)==null?void 0:b.map((l,q)=>s.jsx(T,{...l,day_name:G(l.day)},l.day))}),((v=e==null?void 0:e.comments)==null?void 0:v.length)>0?s.jsx("div",{className:"mt-16 w-full",children:s.jsx(R,{jobTitle:(N=e==null?void 0:e.job)==null?void 0:N.title,jobId:(w=e==null?void 0:e.job)==null?void 0:w.id,comments:e==null?void 0:e.comments})}):!1]})}export{ee as default};
